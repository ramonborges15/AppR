<html>
<head>

    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *" />


    <link rel="stylesheet" type="text/css" href="css/phonon.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/jquery-2.2.4.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <script type="text/javascript" src="cordova.js"></script>

    <!-- Resources Charts -->
    <script type="text/javascript" src="js/amcharts.js"></script>
    <script type="text/javascript" src="js/serial.js"></script>
    <script type="text/javascript" src="js/export.min.js"></script>
    <link rel="stylesheet" href="css/export.css" type="text/css" media="all" />
    <script type="text/javascript" src="js/light.js"></script>

    <!-- Responsavel por criar os graficos -->
    <script type="text/javascript" src="js/make_chart.js"></script>

    <script type="text/javascript">
        function Chart(){
            gerarGrafico();
        }
        function reload() {
            location.reload();
        }


        function expand1() {
            document.getElementById("chartdiv1").style.height = "30%";
            setTimeout(function () {
                document.getElementById("chartdiv1").style.height = "10%";
            }, 5000);
        }

        function expand2() {
            document.getElementById("chartdiv2").style.height = "30%";
            setTimeout(function () {
                document.getElementById("chartdiv2").style.height = "10%";
            }, 5000);
        }
        function expand3() {
            document.getElementById("chartdiv3").style.height = "30%";
            setTimeout(function () {
                document.getElementById("chartdiv3").style.height = "10%";
            }, 5000);
        }
        function expand4() {
            document.getElementById("chartdiv4").style.height = "30%";
            setTimeout(function () {
                document.getElementById("chartdiv4").style.height = "10%";
            }, 5000);
        }
        function expand5() {
            document.getElementById("chartdiv5").style.height = "30%";
            setTimeout(function () {
                document.getElementById("chartdiv5").style.height = "10%";
            }, 5000);
        }
        function expand6() {
            document.getElementById("chartdiv6").style.height = "30%";
            setTimeout(function () {
                document.getElementById("chartdiv6").style.height = "10%";
            }, 5000);
        }
        function expand7() {
            document.getElementById("chartdiv7").style.height = "30%";
            setTimeout(function () {
                document.getElementById("chartdiv7").style.height = "10%";
            }, 5000);
        }

    </script>

    <script type="text/javascript">

        var normalizado_a, normalizado_b, normalizado_c, normalizado_d;
        var normalizado_e, normalizado_f, normalizado_g;
        //jquery

        function executarTeste() {
            $(document).ready(function() {
                $.ajax({
                    type: "GET",
                        url: "http://greenengine.esy.es/maximus.php",
                        crossDomain: true,
                        cache: false,
                        success: function(result){
                            var result=$.parseJSON(result);
                            normalizado_a = document.getElementById('#ve').value() /result.max_velocidade_espacial;
                            normalizado_b = document.getElementById('#temp').value() /result.max_temperatura;
                            normalizado_c = document.getElementById('#ox').value() /result.max_oxigenio;
                            normalizado_d = document.getElementById('#agua').value() /result.max_agua;
                            normalizado_e = document.getElementById('#de').value() /result.max_dioxido_de_enxofre;
                            normalizado_f = document.getElementById('#oxidn').value() /result.max_oxido_nitrico;
                            normalizado_g = document.getElementById('#amon').value() /result.max_amonia;
                        }
                    });
            });
              //alert("Vel: "+ normalizado_a + " temp: "+ normalizado_b + " ox: " + normalizado_c + " agua: " + normalizado_d + "de: " + normalizado_e + "oxidn: " + normalizado_f + "amon: " + normalizado_g);

            executeProgramWithTrueData(normalizado_a,normalizado_b,normalizado_c,normalizado_d,normalizado_e,normalizado_f,normalizado_g);
        }

    </script>

</head>

<body>

  <!-- Formulário para o Teste
  <div id="full-panel-example" class="panel-full">
       Barra Superior
      <header class="header-bar" id="colorMain">
          <button class="btn pull-left icon icon-home" onclick="reload()"></button>
          <div class="center">
              <h1 class="title">Green Engine Executar</h1>
          </div>
      </header>

  </div>
-->

  <home data-page="true">
    <!-- Barra Superior -->
    <div class="header-bar" id="colorMain">
        <a class="btn pull-left icon icon-home" href="index.html"></a>
        <!-- <a class="btn pull-left" data-panel-id="full-panel-example">Teste</a>-->
        <div class="center">
            <h1 class="title">Green Engine</h1>
        </div>
        <!--
        <button class="btn pull-right icon icon-menu" data-popover-id="my-popover"></button>
        -->
    </div>

    <br/><br/>


    <!-- Conteúdo da página está dentro desta div. Esta é a página principal-->
    <div class="content">
        <div class="padded-full">

            <!-- Regiao separada para o formulario-->
            <div id="main">
                <div class="text-center">
                    <h2 class="title">Insira as informações abaixo:</h2>
                </div>

                <div class="row text">
                    <div class="phone-5 column"><label>Velocidade Espacial:</label></div>
                    <div class="phone-7 column">
                        <input class="border-color" type="number" id="ve" required="required">
                    </div>
                </div>

                <div class="row text">
                    <div class="phone-5 column"><label>Temperatura:</label></div>
                    <div class="phone-7 column">
                        <input type="number" id="temp" required="required" min="0" max="100" pattern="[0-9]+$">
                    </div>
                </div>

                <div class="row text">
                    <div class="phone-5 column"><label>Oxigênio:</label></div>
                    <div class="phone-7 column">
                        <input type="number" id="ox" required="required" min="0" max="100" pattern="[0-9]+$">
                    </div>
                </div>

                <div class="row text">
                    <div class="phone-5 column"><label>Água:</label></div>
                    <div class="phone-7 column">
                        <input type="number" id="agua" required="required" min="0" max="100" pattern="[0-9]+$">
                    </div>
                </div>

                <div class="row text">
                    <div class="phone-5 column"><label>Dióxido de Enxofre:</label></div>
                    <div class="phone-7 column">
                        <input type="number" id="de" required="required" min="0" max="100" pattern="[0-9]+$">
                    </div>
                </div>

                <div class="row text">
                    <div class="phone-5 column"><label>Óxido Nítrico:</label></div>
                    <div class="phone-7 column">
                        <input type="number" id="oxidn" required="required" pattern="[0-9]+$">
                    </div>
                </div>

                <div class="row text">
                    <div class="phone-5 column"><label>Amônia:</label></div>
                    <div class="phone-7 column">
                        <input type="number" id="amon" required="required" pattern="[0-9]+$">
                    </div>
                </div>


                <br/>
                <!-- Botões para teste e gerar gráfico-->
                <div class="padded-full">
                    <button type="submit" class="btn fit-parent" onclick="executarTeste()">Testar</button>
                </div>
                <div class="padded-full">
                    <button type="submit" class="btn fit-parent" onclick="Chart()">Gerar Gráficos</button>
                </div>

            </div>

            <!-- Regiao onde será gerado os Graficos-->

            <div class="chart-block">
                <div class="row text-center">
                    <div class="phone-12 column">
                        <div id="chartdiv1" onclick="expand1()"></div>
                        <div id="chartdiv2" onclick="expand2()"></div>
                        <div id="chartdiv3" onclick="expand3()"></div>
                        <div id="chartdiv4" onclick="expand4()"></div>
                        <div id="chartdiv5" onclick="expand5()"></div>
                        <div id="chartdiv6" onclick="expand6()"></div>
                        <div id="chartdiv7" onclick="expand7()"></div>
                    </div>
                </div>
            </div>

        </div>

    </div>

  </div>

    <script type="text/javascript">
        app.initialize();
    </script>
  <!-- Configurações para listar opções na região superior direita-->
    <script src="js/phonon-core.js"></script>
    <script src="js/popovers.js"></script>

    <script src="js/panels.js"></script>
    <script src="js/dialogs.js"></script>

    <script>

        phonon.options({
            navigator: {
                defaultPage: 'home',
                /*
                animatePages: true,
                templateRootDirectory: 'contents/',
                enableBrowserBackButton: true // should be disabled on Cordova
                */
            },
            i18n: null
        });
        var app = phonon.navigator();
        app.start();

    </script>

</body>
</html>
