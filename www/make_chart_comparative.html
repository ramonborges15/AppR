<html>
<head>

    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />


    <!-- Resources Charts -->
    <script type="text/javascript" src="js/amcharts.js"></script>
    <script type="text/javascript" src="js/serial.js"></script>
    <script type="text/javascript" src="js/export.min.js"></script>
    <link rel="stylesheet" href="css/export.css" type="text/css" media="all" />
    <script type="text/javascript" src="js/light.js"></script>


    <link rel="stylesheet" type="text/css" href="css/phonon.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <script type="text/javascript" src="js/jquery.js"></script>

    <!-- Chart code -->

    <script type="text/javascript">
        $(document).ready(function(){
            //Esconde o grafico quando a página é criada pois os dados não foram
            //inseridos.
            $("#chartdiv1").hide();
            $("#chartdiv2").hide();
            $("#chartdiv3").hide();
        });
    </script>

    <script type="text/javascript">
        var chart,t,o,am;

        function gerarGrafico() {
            $(document).ready(function() {
                var url = "http://greenengine.esy.es/pega_maiorValor.php";
                $.getJSON(url,function(result){
                    console.log(result);
                    $.each(result, function(i,field) {
                        t = field.result_temperatura;
                        o = field.result_oxigenio;
                        am = field.result_amonia;
                    });
                });


                chart = AmCharts.makeChart( "chartdiv1", {
                  "type": "serial",
                  "theme": "light",
                  "autoMargins": false,
                  "marginTop": 30,
                  "marginLeft": 80,
                  "marginBottom": 30,
                  "marginRight": 50,

                  "dataProvider": [ {
                    "category": "Temperatura",
                    "bad": 20,
                    "poor": 20,
                    "average": 20,
                    "good": 20,
                    "excelent": 20,

                    "limit": 50,
                    "full": 100,

                    "bullet": document.getElementById("temp").value //barra
                  } ],

                  "valueAxes": [ {
                    "maximum": 100,
                    "stackType": "regular",
                    "gridAlpha": 0
                  } ],

                  "startDuration": 0.2,

                  "graphs": [ {
                    "fillAlphas": 0.8,
                    "lineColor": "#3CB371",
                    "showBalloon": false,
                    "type": "column",
                    "valueField": "excelent"
                  }, {
                    "fillAlphas": 0.8,
                    "lineColor": "#3CB371",
                    "showBalloon": false,
                    "type": "column",
                    "valueField": "good"
                  }, {
                    "fillAlphas": 0.8,
                    "lineColor": "#3CB371",
                    "showBalloon": false,
                    "type": "column",
                    "valueField": "average"
                  }, {
                    "fillAlphas": 0.8,
                    "lineColor": "#3CB371",
                    "showBalloon": false,
                    "type": "column",
                    "valueField": "poor"
                  }, {
                    "fillAlphas": 0.8,
                    "lineColor": "#3CB371",
                    "showBalloon": false,
                    "type": "column",
                    "valueField": "bad"
                  },
                  // Cores das Barras e linha >>>
                  {
                    "clustered": false,
                    "columnWidth": 0.3,
                    "fillAlphas": 1,
                    "lineColor": "#F0FFFF",
                    "stackable": false,
                    "type": "column",
                    "valueField": "bullet"
                  }, {
                    "columnWidth": 0.5,
                    "lineColor": "#000000",
                    "lineThickness": 3,
                    "noStepRisers": true,
                    "stackable": false,
                    "type": "step",
                    "valueField": "limit"
                  } ],
                  // <<<<
                  "rotate": true,
                  "columnWidth": 1,
                  "categoryField": "category",
                  "categoryAxis": {
                    "gridAlpha": 0,
                    "position": "left"
                  }
                } );

                chart = AmCharts.makeChart( "chartdiv2", {
                  "type": "serial",
                  "theme": "light",
                  "autoMargins": false,
                  "marginTop": 30,
                  "marginLeft": 80,
                  "marginBottom": 30,
                  "marginRight": 50,

                  "dataProvider": [ {
                    "category": "O2",
                    "bad": 20,
                    "poor": 20,
                    "average": 20,
                    "good": 20,
                    "excelent": 20,

                    "limit": 50,
                    "full": 100,

                    "bullet": document.getElementById("ox").value //barra
                  } ],

                  "valueAxes": [ {
                    "maximum": 100,
                    "stackType": "regular",
                    "gridAlpha": 0
                  } ],

                  "startDuration": 0.2,

                  "graphs": [ {
                    "fillAlphas": 0.8,
                    "lineColor": "#3CB371",
                    "showBalloon": false,
                    "type": "column",
                    "valueField": "excelent"
                  }, {
                    "fillAlphas": 0.8,
                    "lineColor": "#3CB371",
                    "showBalloon": false,
                    "type": "column",
                    "valueField": "good"
                  }, {
                    "fillAlphas": 0.8,
                    "lineColor": "#3CB371",
                    "showBalloon": false,
                    "type": "column",
                    "valueField": "average"
                  }, {
                    "fillAlphas": 0.8,
                    "lineColor": "#3CB371",
                    "showBalloon": false,
                    "type": "column",
                    "valueField": "poor"
                  }, {
                    "fillAlphas": 0.8,
                    "lineColor": "#3CB371",
                    "showBalloon": false,
                    "type": "column",
                    "valueField": "bad"
                  },
                  // Cores das Barras e linha >>>
                  {
                    "clustered": false,
                    "columnWidth": 0.3,
                    "fillAlphas": 1,
                    "lineColor": "#F0FFFF",
                    "stackable": false,
                    "type": "column",
                    "valueField": "bullet"
                  }, {
                    "columnWidth": 0.5,
                    "lineColor": "#000000",
                    "lineThickness": 3,
                    "noStepRisers": true,
                    "stackable": false,
                    "type": "step",
                    "valueField": "limit"
                  } ],
                  // <<<<
                  "rotate": true,
                  "columnWidth": 1,
                  "categoryField": "category",
                  "categoryAxis": {
                    "gridAlpha": 0,
                    "position": "left"
                  }
                } );

                chart = AmCharts.makeChart( "chartdiv3", {
                  "type": "serial",
                  "theme": "light",
                  "autoMargins": false,
                  "marginTop": 30,
                  "marginLeft": 80,
                  "marginBottom": 30,
                  "marginRight": 50,

                  "dataProvider": [ {
                    "category": "NH3",
                    "bad": 20,
                    "poor": 20,
                    "average": 20,
                    "good": 20,
                    "excelent": 20,

                    "limit": 50,
                    "full": 100,

                    "bullet": document.getElementById("amon").value //barra
                  } ],

                  "valueAxes": [ {
                    "maximum": 100,
                    "stackType": "regular",
                    "gridAlpha": 0
                  } ],

                  "startDuration": 0.2,

                  "graphs": [ {
                    "fillAlphas": 0.8,
                    "lineColor": "#3CB371",
                    "showBalloon": false,
                    "type": "column",
                    "valueField": "excelent"
                  }, {
                    "fillAlphas": 0.8,
                    "lineColor": "#3CB371",
                    "showBalloon": false,
                    "type": "column",
                    "valueField": "good"
                  }, {
                    "fillAlphas": 0.8,
                    "lineColor": "#3CB371",
                    "showBalloon": false,
                    "type": "column",
                    "valueField": "average"
                  }, {
                    "fillAlphas": 0.8,
                    "lineColor": "#3CB371",
                    "showBalloon": false,
                    "type": "column",
                    "valueField": "poor"
                  }, {
                    "fillAlphas": 0.8,
                    "lineColor": "#3CB371",
                    "showBalloon": false,
                    "type": "column",
                    "valueField": "bad"
                  },
                  // Cores das Barras e linha >>>
                  {
                    "clustered": false,
                    "columnWidth": 0.3,
                    "fillAlphas": 1,
                    "lineColor": "#F0FFFF",
                    "stackable": false,
                    "type": "column",
                    "valueField": "bullet"
                  }, {
                    "columnWidth": 0.5,
                    "lineColor": "#000000",
                    "lineThickness": 3,
                    "noStepRisers": true,
                    "stackable": false,
                    "type": "step",
                    "valueField": "limit"
                  } ],
                  // <<<<
                  "rotate": true,
                  "columnWidth": 1,
                  "categoryField": "category",
                  "categoryAxis": {
                    "gridAlpha": 0,
                    "position": "left"
                  }
                } );


                //Esconde o formulário e mostra apenas o grafico.
                $("#chartdiv1").show();
                $("#chartdiv2").show();
                $("#chartdiv3").show();
                $("#main").hide();
            });
        }


    </script>

</head>




<body class="barscroll">
    <!-- Barra Superior-->
    <div class="header-bar" id="colorMain">
        <a class="btn pull-left icon icon-home" href="index.html"></a>
        <div class="center">
            <h1 class="title">Gerando Gráfico</h1>
        </div>
    </div>

    <!--
    <div id="full-panel-example" class="panel-full">

        <header class="header-bar" id="colorMain">
            <button class="btn pull-right icon icon-close" data-panel-close="true"></button>
            <div class="center">
                <h1 class="title">Gráfico</h1>
            </div>
        </header>

        <div class="content">
            <div class="padded-full">

                <br/><br/><br/><br/><br/>
                <br/><br/><br/><br/>
                <button type="submit" class="btn"
                 data-panel-id="full-panel-example2"> Gerar (O2) >> </button>
            </div>
        </div>
    </div>
    -->

    <!-- Conteúdo Principal-->
    <div class="content">
        <div class="padded-full">

            <div id="main">
                <!-- Formulário para o Gerar gráficos-->
                <div class="text-center">
                    <h2 class="title">Insira as informações abaixo:</h2>
                </div>

                <div class="row text">
                    <div class="phone-5 column"><label>Velocidade Espacial:</label></div>
                    <div class="phone-7 column">
                        <input class="border-color" type="number" id="ve" required="required">
                    </div>
                </div>

                <div class="row text">
                    <div class="phone-5 column"><label>Temperatura:</label></div>
                    <div class="phone-7 column">
                        <input type="number" id="temp" required="required" min="0" max="100" pattern="[0-9]+$">
                    </div>
                </div>

                <div class="row text">
                    <div class="phone-5 column"><label>Oxigênio:</label></div>
                    <div class="phone-7 column">
                        <input type="number" id="ox" required="required" min="0" max="100" pattern="[0-9]+$">
                    </div>
                </div>

                <div class="row text">
                    <div class="phone-5 column"><label>Água:</label></div>
                    <div class="phone-7 column">
                        <input type="number" id="agua" required="required" min="0" max="100" pattern="[0-9]+$">
                    </div>
                </div>

                <div class="row text">
                    <div class="phone-5 column"><label>Dióxido de Enxofre:</label></div>
                    <div class="phone-7 column">
                        <input type="number" id="de" required="required" min="0" max="100" pattern="[0-9]+$">
                    </div>
                </div>

                <div class="row text">
                    <div class="phone-5 column"><label>Óxido Nítrico:</label></div>
                    <div class="phone-7 column">
                        <input type="number" id="oxidn" required="required" pattern="[0-9]+$">
                    </div>
                </div>

                <div class="row text">
                    <div class="phone-5 column"><label>Amônia:</label></div>
                    <div class="phone-7 column">
                        <input type="number" id="amon" required="required" pattern="[0-9]+$">
                    </div>
                </div>


                <br/>
                <!-- Butão para finalizar cadastro-->
                <div class="padded-full">
                    <button type="submit" class="btn fit-parent" onclick="gerarGrafico()">Gerar</button>
                </div>

            </div>

            <br /><br /><br /><br /><br /><br /><br />
            <!-- Regiao dos Graficos-->
            <div class="chart-block">
                <div id="chartdiv1" style="width:450px; height:240px;"></div>
            </div>
            <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
            <div class="chart-block">
                <div id="chartdiv2" style="width:450px; height:240px;"></div>
            </div>
            <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
            <div class="chart-block">
                <div id="chartdiv3" style="width:450px; height:240px;"></div>
            </div>

        </div>
    </div>

    <!-- Configurando para criar tela-->
    <script src="js/phonon-core.js"></script>
    <script src="js/panels.js"></script>
    <script>

        phonon.options({
            navigator: {
                defaultPage: 'home'
            },
            i18n: null
        });
        phonon.navigator().start();

    </script>

</body>

</html>
